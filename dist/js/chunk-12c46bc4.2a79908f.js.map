{"version":3,"sources":["webpack:///./src/views/playlist/detail.vue?33b2","webpack:///src/views/playlist/detail.vue","webpack:///./src/views/playlist/detail.vue?7afc","webpack:///./src/views/playlist/detail.vue","webpack:///./src/views/playlist/detail.vue?7577"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","details","coverImgUrl","slot","_v","_s","name","creator","avatarUrl","nickname","$utils","formartDate","createTime","_e","_l","tag","index","key","path","query","cat","formartNum","playCount","subscribedCount","commentCount","on","$event","isShowDesc","domProps","description","showAllDesc","total","playAllSongs","class","subscribed","subPlayList","songList","isLogin","loginDialog","item","userId","id","commentId","user","formatMsgTime","time","content","staticRenderFns","component"],"mappings":"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","file":"js/chunk-12c46bc4.2a79908f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"w1200\"},[_c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"detail-main\"},[_c('div',{staticClass:\"cover\"},[_c('div',{staticClass:\"cover-img\"},[_c('el-image',{attrs:{\"src\":_vm.details.coverImgUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1),_c('div',{staticClass:\"cover-info\"},[_c('div',{staticClass:\"cover-title\"},[_vm._v(\" \"+_vm._s(_vm.details.name)+\" \")]),(_vm.details.creator)?_c('div',{staticClass:\"cover-author\"},[_c('el-image',{staticClass:\"cover-avatar\",attrs:{\"src\":_vm.details.creator.avatarUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])]),_c('div',{staticClass:\"cover-name\"},[_vm._v(_vm._s(_vm.details.creator.nickname))]),_c('div',{staticClass:\"cover-date\"},[_vm._v(_vm._s(_vm.$utils.formartDate(_vm.details.createTime, 'yyyy-MM-dd')))])],1):_vm._e(),(_vm.details.tags)?_c('div',{staticClass:\"cover-tags\"},_vm._l((_vm.details.tags),function(tag,index){return _c('router-link',{key:index,staticClass:\"tag\",attrs:{\"to\":{ path: '/playlist', query: { cat: tag }}}},[_vm._v(\"#\"+_vm._s(tag))])}),1):_vm._e(),_c('div',{staticClass:\"cover-digital\"},[_c('span',{staticClass:\"cover-playCount\"},[_c('i',{staticClass:\"iconfont icon-playnum\"}),_vm._v(\" \"+_vm._s(_vm.$utils.formartNum(_vm.details.playCount))+\"次\")]),_c('span',{staticClass:\"cover-collect\"},[_c('i',{staticClass:\"iconfont icon-collect\"}),_vm._v(\" \"+_vm._s(_vm.$utils.formartNum(_vm.details.subscribedCount)))]),_c('span',{staticClass:\"cover-comment\"},[_c('i',{staticClass:\"iconfont icon-comment\"}),_vm._v(\" \"+_vm._s(_vm.$utils.formartNum(_vm.details.commentCount)))])]),_c('div',{staticClass:\"cover-desc\"},[_c('h5',[_vm._v(\"歌单简介\"),(_vm.isShowDesc)?_c('em',{staticClass:\"desc-close\",on:{\"click\":function($event){_vm.isShowDesc = false}}},[_c('i',{staticClass:\"iconfont icon-closed\"})]):_vm._e()]),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.details.description)},on:{\"click\":_vm.showAllDesc}}),(_vm.isShowDesc)?_c('pre',{staticClass:\"cover-desc-all\"},[_vm._v(\"                                \"+_vm._s(_vm.details.description)+\"\\n                            \")]):_vm._e()])])]),_c('div',{staticClass:\"song-main\"},[_c('div',{staticClass:\"song-header\"},[_c('h4',[_vm._v(\"歌曲列表 \"),_c('em',[_vm._v(_vm._s(_vm.total + '首歌'))])]),_c('span',{staticClass:\"play-all\",on:{\"click\":_vm.playAllSongs}},[_c('i',{staticClass:\"iconfont icon-audio-play\"}),_vm._v(\" 播放全部\")]),_c('span',{class:['collect', _vm.details.subscribed ? 'active' : ''],on:{\"click\":function($event){return _vm.subPlayList(_vm.details)}}},[_c('i',{class:['iconfont', 'icon-collect' + (_vm.details.subscribed ? '-active' : '')]}),_vm._v(\" \"+_vm._s(_vm.details.subscribed ? '已收藏' : '收藏'))])]),(_vm.isLoading)?[_c('Loading')]:[_c('song-list',{attrs:{\"songList\":_vm.songList,\"stripe\":true}}),(!_vm.isLogin)?_c('div',{staticClass:\"showAllSongsTips\"},[_c('span',{on:{\"click\":_vm.loginDialog}},[_vm._v(\"登录后查看全部歌曲\")])]):_vm._e()]],2)]),_c('div',{staticClass:\"detail-aside\"},[_c('div',{staticClass:\"playlist-collect\"},[_c('h3',{staticClass:\"aside-title\"},[_vm._v(\"喜欢这个歌单的人\")]),_c('div',{staticClass:\"aside-main collect-main\"},_vm._l((_vm.collects),function(item){return _c('router-link',{key:item.userId,staticClass:\"collect-author\",attrs:{\"to\":{ path: '/singer', query: { id: item.userId }}}},[_c('el-image',{attrs:{\"src\":item.avatarUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1)}),1)]),_c('div',{staticClass:\"playlist-recom\"},[_c('h3',{staticClass:\"aside-title\"},[_vm._v(\"相关歌单推荐\")]),_c('div',{staticClass:\"aside-main recom-main\"},_vm._l((_vm.playlists),function(item){return _c('router-link',{key:item.id,staticClass:\"recom-item\",attrs:{\"to\":{ path: '/playlist/detail', query: { id: item.id }}}},[_c('el-image',{attrs:{\"src\":item.coverImgUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])]),_c('div',{staticClass:\"recom-info\"},[_c('div',{staticClass:\"recom-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"recom-author\"},[_vm._v(\" By. \"),_c('router-link',{attrs:{\"to\":{ path: '/user', query: { id: item.creator.userId }}}},[_vm._v(_vm._s(item.creator.nickname))])],1)])],1)}),1)]),_c('div',{staticClass:\"playlist-comment\"},[_c('h3',{staticClass:\"aside-title\"},[_vm._v(\"歌单评论\")]),_c('div',{staticClass:\"aside-main comment-main\"},_vm._l((_vm.comments),function(item){return _c('div',{key:item.commentId,staticClass:\"comment-item\"},[_c('router-link',{attrs:{\"to\":{ path: '/user', query: { id: item.commentId }}}},[_c('el-image',{attrs:{\"src\":item.user.avatarUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1),_c('div',{staticClass:\"comment-info\"},[_c('div',{staticClass:\"comment-userInfo\"},[_c('router-link',{staticClass:\"comment-name\",attrs:{\"to\":{ path: '/user', query: { id: item.commentId }}}},[_vm._v(_vm._s(item.user.nickname))]),_c('span',{staticClass:\"comment-date\"},[_vm._v(_vm._s(_vm.$utils.formatMsgTime(item.time)))])],1),_c('div',{staticClass:\"comment-desc\"},[_vm._v(_vm._s(item.content))])])],1)}),0)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class='detail'>\r\n        <div class=\"w1200\">\r\n            <div class=\"detail-container\">\r\n                <div class=\"detail-main\">\r\n                    <div class=\"cover\">\r\n                        <div class=\"cover-img\">\r\n                            <el-image :src=\"details.coverImgUrl\">\r\n                                <div slot=\"placeholder\" class=\"image-slot\">\r\n                                    <i class=\"iconfont icon-placeholder\"></i>\r\n                                </div>\r\n                            </el-image>\r\n                        </div>\r\n                        <div class=\"cover-info\">\r\n                            <div class=\"cover-title\">\r\n                                {{details.name}}\r\n                            </div>\r\n                            <div class=\"cover-author\" v-if=\"details.creator\">\r\n                                <el-image :src=\"details.creator.avatarUrl\" class=\"cover-avatar\">\r\n                                    <div slot=\"placeholder\" class=\"image-slot\">\r\n                                        <i class=\"iconfont icon-placeholder\"></i>\r\n                                    </div>\r\n                                </el-image>\r\n                                <div class=\"cover-name\">{{details.creator.nickname}}</div>\r\n                                <div class=\"cover-date\">{{$utils.formartDate(details.createTime, 'yyyy-MM-dd')}}</div>\r\n                            </div>\r\n                            <div class=\"cover-tags\" v-if=\"details.tags\">\r\n                                <router-link :to=\"{ path: '/playlist', query: { cat: tag }}\" class=\"tag\" v-for=\"(tag, index) in details.tags\" :key=\"index\">#{{tag}}</router-link>\r\n                            </div>\r\n                            <div class=\"cover-digital\">\r\n                                <span class=\"cover-playCount\"><i class=\"iconfont icon-playnum\"></i> {{$utils.formartNum(details.playCount)}}次</span>\r\n                                <span class=\"cover-collect\"><i class=\"iconfont icon-collect\"></i> {{$utils.formartNum(details.subscribedCount)}}</span>\r\n                                <span class=\"cover-comment\"><i class=\"iconfont icon-comment\"></i> {{$utils.formartNum(details.commentCount)}}</span>\r\n                            </div>\r\n                            <div class=\"cover-desc\">\r\n                                <h5>歌单简介<em class=\"desc-close\" v-if=\"isShowDesc\" @click=\"isShowDesc = false\"><i class=\"iconfont icon-closed\"></i></em></h5>\r\n                                <p v-html=\"details.description\" @click=\"showAllDesc\"></p>\r\n                                <pre class=\"cover-desc-all\" v-if=\"isShowDesc\">\r\n                                    {{details.description}}\r\n                                </pre>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"song-main\">\r\n                        <div class=\"song-header\">\r\n                            <h4>歌曲列表 <em>{{total + '首歌'}}</em></h4>\r\n                            <span class=\"play-all\" @click=\"playAllSongs\"><i class=\"iconfont icon-audio-play\"></i> 播放全部</span>\r\n                            <span :class=\"['collect', details.subscribed ? 'active' : '']\" @click=\"subPlayList(details)\"><i :class=\"['iconfont', 'icon-collect' + (details.subscribed ? '-active' : '')]\"></i> {{ details.subscribed ? '已收藏' : '收藏'}}</span>\r\n                        </div>\r\n                        <template v-if=\"isLoading\">\r\n                            <Loading />\r\n                        </template>\r\n                        <template v-else>\r\n                            <song-list :songList=\"songList\" :stripe=\"true\"></song-list>\r\n                            <div class=\"showAllSongsTips\" v-if=\"!isLogin\">\r\n                                <span @click=\"loginDialog\">登录后查看全部歌曲</span>\r\n                            </div>\r\n                        </template>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-aside\">\r\n                    <div class=\"playlist-collect\">\r\n                        <h3 class=\"aside-title\">喜欢这个歌单的人</h3>\r\n                        <div class=\"aside-main collect-main\">\r\n                            <router-link class=\"collect-author\" :to=\"{ path: '/singer', query: { id: item.userId }}\" v-for=\"item in collects\" :key=\"item.userId\">\r\n                                <el-image :src=\"item.avatarUrl\">\r\n                                    <div slot=\"placeholder\" class=\"image-slot\">\r\n                                        <i class=\"iconfont icon-placeholder\"></i>\r\n                                    </div>\r\n                                </el-image>\r\n                            </router-link>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"playlist-recom\">\r\n                        <h3 class=\"aside-title\">相关歌单推荐</h3>\r\n                        <div class=\"aside-main recom-main\">\r\n                            <router-link class=\"recom-item\" :to=\"{ path: '/playlist/detail', query: { id: item.id }}\" v-for=\"item in playlists\" :key=\"item.id\">\r\n                                <el-image :src=\"item.coverImgUrl\">\r\n                                    <div slot=\"placeholder\" class=\"image-slot\">\r\n                                        <i class=\"iconfont icon-placeholder\"></i>\r\n                                    </div>\r\n                                </el-image>\r\n                                <div class=\"recom-info\">\r\n                                    <div class=\"recom-name\">{{item.name}}</div>\r\n                                    <div class=\"recom-author\">\r\n                                        By. <router-link :to=\"{ path: '/user', query: { id: item.creator.userId }}\">{{ item.creator.nickname }}</router-link>\r\n                                    </div>\r\n                                </div>\r\n                            </router-link>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"playlist-comment\">\r\n                        <h3 class=\"aside-title\">歌单评论</h3>\r\n                        <div class=\"aside-main comment-main\">\r\n                            <div class=\"comment-item\" v-for=\"item in comments\" :key=\"item.commentId\">\r\n                                <router-link :to=\"{ path: '/user', query: { id: item.commentId }}\">\r\n                                    <el-image :src=\"item.user.avatarUrl\">\r\n                                        <div slot=\"placeholder\" class=\"image-slot\">\r\n                                            <i class=\"iconfont icon-placeholder\"></i>\r\n                                        </div>\r\n                                    </el-image>\r\n                                </router-link>\r\n                                <div class=\"comment-info\">\r\n                                    <div class=\"comment-userInfo\"><router-link :to=\"{ path: '/user', query: { id: item.commentId }}\" class=\"comment-name\">{{item.user.nickname}}</router-link><span class=\"comment-date\">{{$utils.formatMsgTime(item.time)}}</span></div>\r\n                                    <div class=\"comment-desc\">{{item.content}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport { formatSongInfo } from '@utils/song'\r\nimport songList from '@components/common/song-list'\r\nimport Loading from '@components/common/loading'\r\nexport default {\r\n    name: 'PlayListDetail',\r\n    components: {\r\n        songList,\r\n        Loading\r\n    },\r\n    mounted () {\r\n        this._initialize(this.$route.query.id)\r\n    },\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n            // 歌单详情\r\n            details: {},\r\n            songList: [],\r\n            collects: [],\r\n            playlists: [],\r\n            comments: [],\r\n            total: 0,\r\n            isLoading: true,\r\n            isShowDesc: false\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {\r\n        ...mapGetters(['isLogin', 'playList'])\r\n    },\r\n    // 方法集合\r\n    methods: {\r\n        ...mapMutations({\r\n            setPlayStatus: 'SET_PLAYSTATUS',\r\n            setPlayList: 'SET_PLAYLIST',\r\n            setPlayIndex: 'SET_PLAYINDEX'\r\n        }),\r\n        ...mapActions(['loginSuc', 'playAll']),\r\n        _initialize (id) {\r\n            // 歌单详情\r\n            this.getDetail({ id: id, s: 8 })\r\n            // 歌单收藏者\r\n            this.getCollect({ id: id, limit: 18 })\r\n            // 相关歌单推荐\r\n            this.getRecom({ id: id })\r\n            // // 歌单评论\r\n            this.getComment({ id: id, limit: 9 })\r\n        },\r\n        // 登录及未登录下获取歌单中歌曲的列表\r\n        async getDetail (params) {\r\n            this.isLoading = true\r\n            const { data: res } = await this.$http.playlistdetail(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n\r\n            this.details = res.playlist\r\n\r\n            if (this.isLogin) {\r\n                const ids = res.playlist.trackIds\r\n\r\n                this.getAllSongs(ids)\r\n            } else {\r\n                this.songList = this._formatSongs(res.playlist.tracks)\r\n                this.total = this.songList.length\r\n                this.isLoading = false\r\n            }\r\n        },\r\n        // 订阅该歌单的用户列表\r\n        async getCollect (params) {\r\n            const { data: res } = await this.$http.playlistSCollect(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.collects = res.subscribers\r\n        },\r\n        // 相关歌单推荐\r\n        async getRecom (params) {\r\n            const { data: res } = await this.$http.playlistRelated(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.playlists = res.playlists\r\n        },\r\n        // 歌单精彩评论\r\n        async getComment (params) {\r\n            const { data: res } = await this.$http.playlistComment(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.comments = res.comments\r\n        },\r\n        // 歌单简介查看更多\r\n        showAllDesc () {\r\n            if (this.details.description.length > 120) {\r\n                this.isShowDesc = !this.isShowDesc\r\n            }\r\n        },\r\n        // 登录后根据ids获取所有歌曲列表\r\n        async getAllSongs (ids) {\r\n            const sliceArr = []\r\n            const num = 500\r\n            let idsArr = []\r\n\r\n            // 数组过长 每500份一组\r\n            for (let index = 0; index < ids.length; index += num) {\r\n                sliceArr.push(ids.slice(index, index + num))\r\n            }\r\n\r\n            for (let i = 0; i < sliceArr.length; i++) {\r\n                const arrs = []\r\n                sliceArr[i].map(d => {\r\n                    arrs.push(d.id)\r\n                })\r\n                this.isLoading = true\r\n                const { data: res } = await this.$http.songDetail({ ids: arrs.join(','), timestamp: new Date().valueOf() + i })\r\n\r\n                idsArr = idsArr.concat(this._formatSongs(res))\r\n            }\r\n\r\n            this.songList = idsArr\r\n            this.total = idsArr.length\r\n            this.isLoading = false\r\n        },\r\n        // 未登录状态，点击登录按钮，显示登录框\r\n        loginDialog () {\r\n            this.$store.dispatch('loginSuc', true)\r\n        },\r\n        // 处理歌曲\r\n        _formatSongs (list) {\r\n            const ret = []\r\n            list.songs.map((item, index) => {\r\n                if (item.id) {\r\n                    // 是否有版权播放\r\n                    item.license = !list.privileges[index].cp\r\n                    ret.push(formatSongInfo(item))\r\n                }\r\n            })\r\n            return ret\r\n        },\r\n        // 播放列表为当前歌单的全部歌曲\r\n        playAllSongs () {\r\n            this.playAll({\r\n                list: this.songList\r\n            })\r\n        },\r\n        // 收藏、取消歌单\r\n        async subPlayList (item) {\r\n            const { data: res } = await this.$http.subPlayList({ id: item.id, t: (item.subscribed ? 2 : 1) })\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.details.subscribed = !this.details.subscribed\r\n        }\r\n    },\r\n    watch: {\r\n        $route (newId, oldId) {\r\n            const id = this.$route.query.id\r\n            if (id) {\r\n                this.songList = []\r\n                this.total = 0\r\n                this._initialize(id)\r\n            }\r\n        },\r\n        isLogin (newVal, oldVal) {\r\n            if (newVal) {\r\n                const ids = this.details.trackIds\r\n\r\n                this.getAllSongs(ids)\r\n            } else {\r\n                this.songList = this.details.tracks\r\n                this.total = this.details.tracks.length\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.detail-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex: 1;\r\n    flex-basis: auto;\r\n    box-sizing: border-box;\r\n    padding: 40px 0 0 0;\r\n}\r\n.detail-main {\r\n    flex: 1;\r\n    padding-bottom: 100px;\r\n    overflow: hidden;\r\n}\r\n.detail-aside {\r\n    width: 300px;\r\n    padding-left: 20px;\r\n\r\n    .aside-title {\r\n        position: relative;\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n\r\n        &::before {\r\n            content: '';\r\n            display: inline-block;\r\n            width: 4px;\r\n            height: 18px;\r\n            margin: 3px 5px 0 0;\r\n            border-radius: 2px;\r\n            background: @color-theme;\r\n            vertical-align: top;\r\n        }\r\n    }\r\n}\r\n.cover {\r\n    display: flex;\r\n}\r\n.cover-img {\r\n    position: relative;\r\n    width: 280px;\r\n    height: 280px;\r\n\r\n    &::after {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: -1;\r\n        width: 100%;\r\n        height: 100%;\r\n        content: '';\r\n        transform: scale(.95) translateX(5%);\r\n        background: #f0f0f0;\r\n    }\r\n}\r\n.cover-info {\r\n    flex: 1;\r\n    padding-left: 40px;\r\n\r\n    .cover-title {\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n    }\r\n}\r\n.cover-author {\r\n    padding: 15px 0 10px;\r\n\r\n    .cover-avatar {\r\n        display: inline-block;\r\n        width: 32px;\r\n        height: 32px;\r\n        border-radius: 100%;\r\n        vertical-align: top;\r\n    }\r\n\r\n    .cover-name, .cover-date {\r\n        display: inline-block;\r\n        padding: 0 10px;\r\n        line-height: 32px;\r\n    }\r\n\r\n    .cover-date {\r\n        color: #999;\r\n    }\r\n}\r\n.cover-tags {\r\n    padding-bottom: 5px;\r\n    line-height: 16px;\r\n\r\n    .tag {\r\n        display: inline-block;\r\n        margin-right: 5px;\r\n        font-size: 12px;\r\n        color: @color-theme;\r\n    }\r\n}\r\n.cover-playCount, .cover-collect, .cover-comment {\r\n    display: inline-block;\r\n    padding: 0 20px 5px 0;\r\n    line-height: 16px;\r\n    font-size: 14px;\r\n    color: #999;\r\n\r\n    i {\r\n        vertical-align: top;\r\n    }\r\n}\r\n.cover-desc {\r\n    position: relative;\r\n\r\n    h5 {\r\n        padding: 30px 0 5px;\r\n        line-height: 20px;\r\n        font-size: 14px;\r\n        color: #333;\r\n    }\r\n\r\n    .desc-close {\r\n        position: absolute;\r\n        top: 30px;\r\n        right: 0;\r\n        cursor: pointer;\r\n    }\r\n\r\n    p {\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n        color: #999;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 4;\r\n        -webkit-box-orient: vertical;\r\n        word-break: break-all;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .cover-desc-all {\r\n        position: absolute;\r\n        top: 70px;\r\n        left: 10px;\r\n        z-index: 1;\r\n        width: calc(~'100% - 20px');\r\n        padding: 10px;\r\n        margin: -10px;\r\n        max-height: 250px;\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n        white-space: pre-line;\r\n        font-family: inherit;\r\n        color: #999;\r\n        background: #fff;\r\n        overflow-y: scroll;\r\n        box-shadow: 0 2px 10px 0 rgba(52, 52, 52, 0.1);\r\n    }\r\n}\r\n\r\n.song-header {\r\n    display: flex;\r\n    padding: 30px 0 10px;\r\n\r\n    h4 {\r\n        flex: 1;\r\n        font-size: 20px;\r\n        line-height: 40px;\r\n\r\n        em {\r\n            display: inline-block;\r\n            padding-left: 10px;\r\n            font-size: 12px;\r\n            line-height: 14px;\r\n            font-style: normal;\r\n            font-weight: normal;\r\n            color: #666;\r\n            vertical-align: baseline;\r\n        }\r\n    }\r\n\r\n    span {\r\n        display: flex;\r\n        line-height: 16px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: 50px;\r\n        padding: 7px 20px;\r\n        cursor: pointer;\r\n        margin: 5px 0 5px 15px;\r\n        transition: all .4s;\r\n        background: #f0f0f0;\r\n        color: #333;\r\n\r\n        i {\r\n            margin-right: 3px;\r\n        }\r\n    }\r\n\r\n    .play-all {\r\n        color: #fff;\r\n        background: @color-theme;\r\n\r\n        i {\r\n            color: #fff;\r\n        }\r\n    }\r\n\r\n    .collect.active, .collect.active i {\r\n        color: @color-theme;\r\n    }\r\n}\r\n\r\n.showAllSongsTips {\r\n    text-align: center;\r\n    padding: 40px 0;\r\n\r\n    span {\r\n        display: inline-block;\r\n        display: flex;\r\n        line-height: 16px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: 50px;\r\n        padding: 7px 20px;\r\n        color: #fff;\r\n        background: @color-theme;\r\n        cursor: pointer;\r\n    }\r\n}\r\n\r\n.aside-main {\r\n    font-size: 0;\r\n    padding-bottom: 30px;\r\n\r\n    .collect-author {\r\n        display: inline-block;\r\n        width: 40px;\r\n        height: 40px;\r\n        margin: 10px 5px;\r\n        border-radius: 100%;\r\n        overflow: hidden;\r\n    }\r\n}\r\n\r\n.collect-main {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    margin: 0 -10px;\r\n}\r\n.recom-main {\r\n    .el-image {\r\n        width: 60px;\r\n        height: 60px;\r\n        border-radius: 4px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .recom-item {\r\n        display: flex;\r\n        padding: 10px 0;\r\n    }\r\n\r\n    .recom-info {\r\n        flex: 1;\r\n        padding-left: 10px;\r\n    }\r\n\r\n    .recom-name {\r\n        width: 100%;\r\n        height: 20px;\r\n        line-height: 20px;\r\n        font-size: 14px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 1;\r\n        -webkit-box-orient: vertical;\r\n        word-break: break-all;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .recom-author {\r\n        height: 20px;\r\n        line-height: 20px;\r\n        margin-top: 20px;\r\n        font-size: 12px;\r\n        color: #999;\r\n\r\n        a {\r\n            color: #666;\r\n        }\r\n    }\r\n}\r\n\r\n.comment-main {\r\n    font-size: 0;\r\n\r\n    .el-image {\r\n        width: 40px;\r\n        height: 40px;\r\n        border-radius: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .comment-item {\r\n        display: flex;\r\n        padding: 10px 0;\r\n    }\r\n\r\n    .comment-info {\r\n        flex: 1;\r\n        padding-left: 10px;\r\n    }\r\n\r\n    .comment-userInfo {\r\n        width: 100%;\r\n        font-size: 0;\r\n    }\r\n\r\n    .comment-name {\r\n        font-size: 14px;\r\n        line-height: 14px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .comment-desc {\r\n        font-size: 12px;\r\n        color: #666;\r\n        line-height: 1.6;\r\n        padding: 5px 10px;\r\n        background: #f5f5f5;\r\n        margin: 5px 0;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .comment-date {\r\n        display: inline-block;\r\n        padding-left: 5px;\r\n        font-size: 12px;\r\n        color: #666;\r\n    }\r\n}\r\n\r\n.el-table /deep/thead th {\r\n    font-weight: normal;\r\n    background-color: #F5F7FA;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=a0960406&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=a0960406&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a0960406\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=a0960406&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=a0960406&scoped=true&lang=less&\""],"sourceRoot":""}