(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10058b44"],{1699:function(t,s,e){},2253:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"album"},t._l(t.albumList,(function(s){return e("router-link",{key:s.id,staticClass:"item",attrs:{to:{path:"/album",query:{id:s.id}}}},[e("div",{staticClass:"faceImg"},[e("el-image",{attrs:{src:s.picUrl+"?param=120y120"}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"album-type"},[t._v(t._s(s.type))]),s.name?e("div",{staticClass:"album-name"},[t._v(t._s(s.name))]):t._e(),s.artist?e("div",{staticClass:"artist-name"},[t._v(t._s(s.artist.name))]):t._e()])])})),1)},i=[],r={components:{},props:["albumList"],data:function(){return{}},computed:{},methods:{}},n=r,l=(e("bb23"),e("2877")),c=Object(l["a"])(n,a,i,!1,null,"eb3aabfe",null);s["a"]=c.exports},"2ffa":function(t,s,e){"use strict";var a=e("e1ba"),i=e.n(a);i.a},"50d8":function(t,s,e){},"57b7":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mv"},t._l(t.mvList,(function(s,a){return e("div",{key:""+s.id+a,staticClass:"item"},[e("router-link",{staticClass:"faceImg",attrs:{to:{path:"/mv",query:{id:s.id}}}},[e("i",{staticClass:"iconfont icon-play"}),e("el-image",{attrs:{src:s.cover||s.imgurl}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])])],1),e("div",{staticClass:"info"},[e("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:s.id}}}},[t._v(t._s(s.name))]),s.publishTime?t._e():e("router-link",{staticClass:"mv-author",attrs:{to:{path:"/singer",query:{id:s.artistId}}}},[t._v(t._s(s.artistName))]),e("div",{staticClass:"mv-playCount"},[e("i",{staticClass:"iconfont icon-video"}),t._v(" "+t._s(t.$utils.formartNum(s.playCount)))]),s.publishTime?e("div",{staticClass:"mv-time"},[t._v("发布时间："+t._s(s.publishTime))]):t._e()],1)],1)})),0)},i=[],r={components:{},props:["mvList"],data:function(){return{}},computed:{},methods:{}},n=r,l=(e("6a4c"),e("2877")),c=Object(l["a"])(n,a,i,!1,null,"785f9ee2",null);s["a"]=c.exports},"6a4c":function(t,s,e){"use strict";var a=e("8862"),i=e.n(a);i.a},8862:function(t,s,e){},"8e4a":function(t,s,e){"use strict";var a=e("1699"),i=e.n(a);i.a},"95cc":function(t,s,e){"use strict";var a=e("50d8"),i=e.n(a);i.a},bb23:function(t,s,e){"use strict";var a=e("fbe8"),i=e.n(a);i.a},d768:function(t,s,e){"use strict";var a=e("ef46"),i=e.n(a);i.a},dfd5:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"playlist"},t._l(t.playList,(function(s){return e("div",{key:s.id,staticClass:"item"},[e("router-link",{staticClass:"faceImg",attrs:{to:{path:"playlist/detail",query:{id:s.id}}}},[e("el-image",{attrs:{src:s.coverImgUrl,lazy:""}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])]),e("span",{staticClass:"playCount"},[e("i",{staticClass:"iconfont icon-playnum"}),e("em",[t._v(t._s(t.$utils.formartNum(s.playCount)))])])],1),e("div",{staticClass:"info"},[e("router-link",{staticClass:"info_name",attrs:{to:{path:"playlist/detail",query:{id:s.id}}}},[t._v(t._s(s.name)+" ")]),e("div",{staticClass:"tags"},t._l(s.tags,(function(s,a){return e("router-link",{key:a,staticClass:"tag",attrs:{to:{path:"/playlist",query:{cat:s}}}},[t._v("#"+t._s(s)+" ")])})),1)],1)],1)})),0)},i=[],r={components:{},props:["playList"],data:function(){return{}},computed:{},methods:{}},n=r,l=(e("d768"),e("2877")),c=Object(l["a"])(n,a,i,!1,null,"36fa8afa",null);s["a"]=c.exports},e1ba:function(t,s,e){},ef46:function(t,s,e){},efe3:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search"},[e("div",{staticClass:"search-hd"},[e("div",{staticClass:"w1200"},[e("div",{staticClass:"search-box"},[e("el-popover",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"popover",attrs:{placement:"bottom-start",trigger:"manual",width:"626","visible-arrow":"false"},model:{value:t.isShowSearch,callback:function(s){t.isShowSearch=s},expression:"isShowSearch"}},[e("el-input",{staticClass:"search-inp",attrs:{slot:"reference",placeholder:"请输入歌名、歌词、歌手或专辑",clearable:""},on:{focus:t.getListHandle,input:t.getListHandle},slot:"reference",model:{value:t.keyVal,callback:function(s){t.keyVal=s},expression:"keyVal"}}),[e("div",{staticClass:"search-key-list"},t._l(t.suggestInfo.order,(function(s,a){return e("div",{key:a,staticClass:"search-item"},[e("h6",[t._v(t._s(t.listType[s]))]),e("div",{staticClass:"item-main"},t._l(t.suggestInfo[s],(function(a,i){return e("div",{key:i,staticClass:"list",on:{click:function(e){return t.jumpPage(a,s)}}},[t._v(" "+t._s(a.name)+" "),"songs"===s?[t._v(" -"),t._l(a.artists,(function(s,a){return e("span",{key:a},[t._v(t._s(s.name+(0!==a?" / ":"")))])}))]:"albums"===s?[t._v(" -"),e("span",[t._v(t._s(a.artist.name))])]:t._e()],2)})),0)])})),0)]],2),e("i",{staticClass:"iconfont icon-search",attrs:{slot:"suffix"},on:{click:function(s){return s.stopPropagation(),t.jumpSearch(t.keyVal)}},slot:"suffix"}),t.history.length?e("div",{staticClass:"search-history"},[e("span",[t._v("历史搜索：")])]):t._e()],1)])]),e("div",{staticClass:"w1200"},[e("div",{staticClass:"search-main"},[e("div",{staticClass:"search-tab"},[e("h2",[t._v("搜索结果"),e("em",[t._v("("+t._s(t.searchInfo)+")")])]),e("div",{staticClass:"type"},[e("span",{class:"1"===t.type?"active":"",on:{click:function(s){return t.selectType("1")}}},[t._v("单曲")]),e("span",{class:"10"===t.type?"active":"",on:{click:function(s){return t.selectType("10")}}},[t._v("专辑")]),e("span",{class:"100"===t.type?"active":"",on:{click:function(s){return t.selectType("100")}}},[t._v("歌手")]),e("span",{class:"1000"===t.type?"active":"",on:{click:function(s){return t.selectType("1000")}}},[t._v("歌单")]),e("span",{class:"1004"===t.type?"active":"",on:{click:function(s){return t.selectType("1004")}}},[t._v("MV")]),e("span",{class:"1014"===t.type?"active":"",on:{click:function(s){return t.selectType("1014")}}},[t._v("视频")])])]),e("div",{staticClass:"search-list"},["1"===t.type?e("song-list",{attrs:{songList:t.list,stripe:!0,offset:t.offset}}):t._e(),"10"===t.type?e("album-list",{attrs:{albumList:t.list}}):t._e(),"100"===t.type?e("artist-list",{attrs:{artistList:t.list}}):t._e(),"1000"===t.type?e("play-list",{attrs:{playList:t.list}}):t._e(),"1004"===t.type?e("mv-list",{attrs:{mvList:t.list}}):t._e(),"1014"===t.type?e("video-list",{attrs:{videoList:t.list}}):t._e()],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"","current-page":t.currentpage,"page-size":t.limit,layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1)])])])},i=[],r=(e("d81d"),e("b0c0"),e("96cf"),e("1da1")),n=e("18fd"),l=e("2253"),c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"artist"},t._l(t.artistList,(function(s){return e("router-link",{key:s.id,staticClass:"item",attrs:{to:{path:"/singer",query:{id:s.id}}}},[e("div",{staticClass:"faceImg"},[e("el-image",{attrs:{src:s.picUrl+"?param=120y120"}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),e("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(s.albumSize))])])])})),1)},o=[],u={components:{},props:["artistList"],data:function(){return{}},computed:{},methods:{}},p=u,d=(e("95cc"),e("2877")),h=Object(d["a"])(p,c,o,!1,null,"d1d83e52",null),m=h.exports,v=e("dfd5"),f=e("57b7"),y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"video"},t._l(t.videoList,(function(s,a){return e("div",{key:""+s.id+a,staticClass:"item"},[e("router-link",{staticClass:"faceImg",attrs:{to:{path:s.type?"/video":"/mv",query:{id:s.vid}}}},[e("i",{staticClass:"iconfont icon-play"}),e("el-image",{attrs:{src:s.coverUrl}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])]),e("span",{staticClass:"playCount"},[e("i",{staticClass:"iconfont icon-video"}),e("em",[t._v(t._s(t.$utils.formartNum(s.playTime)))])]),e("div",{staticClass:"v-time"},[t._v(t._s(t.$utils.formatSongTime(s.durationms)))])],1),e("div",{staticClass:"info"},[e("router-link",{staticClass:"v-name",attrs:{to:{path:"/video",query:{id:s.vid}}}},[t._v(t._s(s.title))]),t._l(s.creator,(function(s,a){return e("router-link",{key:a,staticClass:"v-author",attrs:{to:{path:"/user",query:{uid:s.userId}}}},[t._v("By. "+t._s(0!==a?" / "+s.userName:s.userName))])}))],2)],1)})),0)},g=[],_={components:{},props:["videoList"],data:function(){return{}},computed:{},methods:{}},C=_,b=(e("8e4a"),Object(d["a"])(C,y,g,!1,null,"b3cfbac8",null)),k=b.exports,S={name:"search",components:{songList:n["a"],albumList:l["a"],artistList:m,playList:v["a"],mvList:f["a"],videoList:k},data:function(){return{keyVal:this.$route.query.key,suggestInfo:{},listType:{songs:"单曲",artists:"歌手",albums:"专辑",playlists:"歌单"},type:this.$route.query.type||"1",history:[],list:[],total:0,offset:0,limit:30,currentpage:0,isShowSearch:!1}},computed:{searchInfo:function(){var t={1:"首单曲",10:"张专辑",100:"个歌手",1e3:"个歌单",1002:"个用户",1004:"个MV",1014:"个视频",1018:"个"};return this.total+t[this.type]}},mounted:function(){this.getSerachMatch()},methods:{getSerachSuggest:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$http.serachSuggest({keywords:t.keyVal});case 2:if(e=s.sent,a=e.data,200===a.code){s.next=6;break}return s.abrupt("return",t.$msg.error("数据请求失败"));case 6:t.suggestInfo=a.result;case 7:case"end":return s.stop()}}),s)})))()},getSerachMatch:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$http.cloudsearch({keywords:t.keyVal,type:t.type,limit:t.limit,offset:t.offset});case 2:if(e=s.sent,a=e.data,200===a.code){s.next=6;break}return s.abrupt("return",t.$msg.error("数据请求失败"));case 6:"1"===t.type?(t.list=a.result.songs.map((function(s){return{id:String(s.id),name:s.name,mvId:s.mv,singer:s.ar,album:s.al,alia:s.alia,vip:1===s.fee,license:s.license,duration:t.$utils.formatSongTime(s.dt),url:"https://music.163.com/song/media/outer/url?id=".concat(s.id,".mp3"),publishTime:t.$utils.formatMsgTime(s.publishTime)}})),t.total=a.result.songCount):"10"===t.type?(t.list=a.result.albums,t.total=a.result.albumCount):"100"===t.type?(t.list=a.result.artists,t.total=a.result.artistCount):"1000"===t.type?(t.list=a.result.playlists,t.total=a.result.playlistCount):"1004"===t.type?(t.list=a.result.mvs,t.total=a.result.mvCount):"1014"===t.type&&(t.list=a.result.videos,t.total=a.result.videoCount);case 7:case"end":return s.stop()}}),s)})))()},jumpSearch:function(t){t&&(this.keyVal&&this.keyVal!==this.$route.query.key?(this.$router.push({path:"/search",query:{key:t,type:this.type}}),this.isShowSearch=!1):(this.list=[],this.getSerachMatch()))},jumpPage:function(t,s){switch(this.keyVal=t.name,s){case"songs":this.$router.push({path:"/song",query:{id:t.id}});break;case"artists":this.$router.push({path:"/singer",query:{id:t.id}});break;case"albums":this.$router.push({path:"/album",query:{id:t.id}});break;case"playlists":this.$router.push({path:"/playlist/detail",query:{id:t.id}});break}this.isShowSearch=!1},getListHandle:function(){this.keyVal?(this.suggestInfo={},this.getSerachSuggest(),this.isShowSearch=!0):this.isShowSearch=!1},handleClose:function(){this.isShowSearch=!1},selectType:function(t){this.type=t,this.offset=0,this.currentpage=0,this.$router.push({path:"/search",query:{key:this.keyVal,type:this.type}})},currentChange:function(t){this.offset=(t-1)*this.limit,this.currentpage=t,this.getSerachMatch()}},watch:{$route:function(t,s){this.keyVal=this.$route.query.key,this.type=this.$route.query.type||"1",this.getSerachMatch()}}},w=S,$=(e("2ffa"),Object(d["a"])(w,a,i,!1,null,"6edb2396",null));s["default"]=$.exports},fbe8:function(t,s,e){}}]);
//# sourceMappingURL=chunk-10058b44.d12794e7.js.map