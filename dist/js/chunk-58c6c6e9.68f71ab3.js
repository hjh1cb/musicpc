(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58c6c6e9"],{9639:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"my"},[e("div",{staticClass:"w1200"},[e("div",{staticClass:"my-container"},[e("div",{staticClass:"my-aside"},[e("h3",{staticClass:"my-favorite active",on:{click:t.jump}},[t._v("我收藏的歌手 "),e("i",{staticClass:"iconfont icon-arrow"})]),e("h3",{class:[t.slideBox1?"active":""],on:{click:function(i){return t.toggleSlide("1")}}},[e("span",[t._v("创建的歌单 ("+t._s(t.createdList.length)+")")]),t._v(" "),e("i",{staticClass:"iconfont icon-arrow"})]),e("div",{class:["playlist-main",t.slideBox1?"active":""]},t._l(t.createdList,(function(i,s){return e("router-link",{key:i.id,staticClass:"item",class:["item",String(t.id)===String(i.id)?"active":""],attrs:{to:{name:"myPlaylist",query:{id:i.id}}}},[e("el-image",{attrs:{src:i.coverImgUrl}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])]),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(i.name))]),e("div",{staticClass:"author"},[t._v(" "+t._s(i.trackCount)+"首 By. "),e("span",[t._v(t._s(i.creator.nickname))]),s?e("i",{staticClass:"iconfont icon-del",on:{click:function(e){return t.delPlayList(i,s,"created")}}}):t._e()])])],1)})),1),e("h3",{class:[t.slideBox2?"active":""],on:{click:function(i){return t.toggleSlide("2")}}},[e("span",[t._v("收藏的歌单 ("+t._s(t.collectList.length)+")")]),t._v(" "),e("i",{staticClass:"iconfont icon-arrow"})]),e("div",{class:["playlist-main",t.slideBox2?"active":""]},t._l(t.collectList,(function(i,s){return e("router-link",{key:i.id,staticClass:"item",class:["item",String(t.id)===String(i.id)?"active":""],attrs:{to:{name:"myPlaylist",query:{id:i.id}}}},[e("el-image",{attrs:{src:i.coverImgUrl}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"iconfont icon-placeholder"})])]),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(i.name))]),e("div",{staticClass:"author"},[t._v(" "+t._s(i.trackCount)+"首 By. "),e("span",[t._v(t._s(i.creator.nickname))]),e("i",{staticClass:"iconfont icon-del",on:{click:function(e){return t.delPlayList(i,s,"collect")}}})])])],1)})),1)]),e("div",{staticClass:"my-main"},[e("router-view")],1)])])])},a=[],r=(e("4de4"),e("c975"),e("a434"),e("96cf"),e("1da1")),n=e("5530"),c=e("2f62"),o={components:{},created:function(){this.$route.path.indexOf("/my")>=0&&!this.isLogin&&this.$router.push({path:"/"})},data:function(){return{createdList:[],collectList:[],slideBox1:!1,slideBox2:!1,id:this.$route.query.id}},computed:Object(n["a"])({},Object(c["c"])(["isLogin","userInfo"])),mounted:function(){this.isLogin&&this.getUserPlayList()},methods:{getUserPlayList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var e,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.playlistUser({uid:t.userInfo.userId,limit:"",offset:""});case 2:if(e=i.sent,s=e.data,200===s.code){i.next=6;break}return i.abrupt("return",t.$msg.error("数据请求失败"));case 6:t.createdList=s.playlist.filter((function(t){return!t.subscribed})),t.collectList=s.playlist.filter((function(t){return t.subscribed})),t.id||"/my/favorite"===t.$route.path||(t.id=t.createdList[0].id,t.$router.push({path:"my/playlist",query:{id:t.id}}));case 9:case"end":return i.stop()}}),i)})))()},toggleSlide:function(t){this["slideBox"+t]=!this["slideBox"+t]},delPlayList:function(t,i,e){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s.$http.subPlayList({id:t.id,t:t.subscribed?2:1});case 2:if(r=a.sent,n=r.data,200===n.code){a.next=6;break}return a.abrupt("return",s.$msg.error("数据请求失败"));case 6:s[e+"List"].splice(i,1),s.id=s.createdList[0].id,s.$router.push({path:"/my/playlist",query:{id:s.createdList[0].id}});case 9:case"end":return a.stop()}}),a)})))()},jump:function(){this.$router.push({path:"/my/favorite"})}},watch:{$route:function(){this.id=this.$route.query.id,this.id||"/my/favorite"===this.$route.path||(this.id=this.createdList[0].id,this.$router.push({path:"my/playlist",query:{id:this.id}}))}}},l=o,d=(e("e3d3"),e("2877")),u=Object(d["a"])(l,s,a,!1,null,"14224884",null);i["default"]=u.exports},d6f4:function(t,i,e){},e3d3:function(t,i,e){"use strict";var s=e("d6f4"),a=e.n(s);a.a}}]);
//# sourceMappingURL=chunk-58c6c6e9.68f71ab3.js.map